<div class="admin-page">
  <div class="columns-layout">
    <!-- Pending Column -->
    <div class="column">
      <div class="column-header">
        <h2>Pending</h2>
        <span class="badge badge-warning">{{ pendingPurchases.length }}</span>
      </div>

      <div class="column-empty" *ngIf="pendingPurchases.length === 0">
        <p>No pending orders</p>
      </div>

      <div class="order-cards">
        <div class="order-card" *ngFor="let purchase of pendingPurchases">
          <div class="oc-top">
            <span class="oc-id">#{{ purchase.idPu }}</span>
            <span class="oc-date">{{ purchase.datePu | date:'shortDate' }}</span>
          </div>
          <div class="oc-body">
            <div class="oc-customer">{{ purchase.user.nameUs }} {{ purchase.user.lastNameUs }}</div>
            <div class="oc-addr">{{ purchase.user.addressUs }}, {{ purchase.user.locality.nameLo }}</div>
            <div class="oc-products" *ngIf="purchase.purchaseClothe && purchase.purchaseClothe.length > 0">
              <div class="oc-prod" *ngFor="let item of purchase.purchaseClothe">
                {{ item.clothe.nameCl }} · {{ item.clothe.size }} · x{{ item.quantity }} · {{ item.unitPrice | currency
                }}
              </div>
            </div>
            <div class="oc-total">{{ purchase.amount | currency }}</div>
          </div>
          <button class="btn-accent oc-action" (click)="markAsSent(purchase.shipment.idSh)">Mark as Sent</button>
        </div>
      </div>
    </div>

    <!-- Sent Column -->
    <div class="column">
      <div class="column-header">
        <h2>Sent</h2>
        <span class="badge badge-accent">{{ sentPurchases.length }}</span>
      </div>

      <div class="column-empty" *ngIf="sentPurchases.length === 0">
        <p>No sent orders</p>
      </div>

      <div class="order-cards">
        <div class="order-card" *ngFor="let purchase of sentPurchases">
          <div class="oc-top">
            <span class="oc-id">#{{ purchase.idPu }}</span>
            <span class="oc-date">{{ purchase.datePu | date:'shortDate' }}</span>
          </div>
          <div class="oc-body">
            <div class="oc-customer">{{ purchase.user.nameUs }} {{ purchase.user.lastNameUs }}</div>
            <div class="oc-addr">{{ purchase.user.addressUs }}, {{ purchase.user.locality.nameLo }}</div>
            <div class="oc-products" *ngIf="purchase.purchaseClothe && purchase.purchaseClothe.length > 0">
              <div class="oc-prod" *ngFor="let item of purchase.purchaseClothe">
                {{ item.clothe.nameCl }} · {{ item.clothe.size }} · x{{ item.quantity }} · {{ item.unitPrice | currency
                }}
              </div>
            </div>
            <div class="oc-total">{{ purchase.amount | currency }}</div>
          </div>
          <button class="btn-outline oc-action" (click)="markAsDelivered(purchase.shipment.idSh)">Mark as
            Delivered</button>
        </div>
      </div>
    </div>
  </div>
</div>